{% extends "base.html" %}

{% block content %}

<div style="display:inline-block; width:100%;">
<input type="text"
       id="mbr_search"
       onkeyup="search(event)"
       placeholder="search...">
</input>
</div>

<h1> team leaderboard </h1>

<div class="team-leaderboard">
  <table id="table">
    <thead>
      <tr>
          {% for col in t_sc_cols %}

            {% if col == 'time' %}
            <th class="header"> {{col | safe}} (min) </th>
            {% else %}
            <th class="header"> {{col | safe}} </th>
            {% endif %}

          {% endfor %}
      </tr>
    </thead>
    <tbody>
        {% for dat in team_score %}
        <tr class="row">
            {% for col in t_sc_cols %}

                {% if col == 'time' %}
                <td> {{ team_times[dat['team']]//60 if team_times[dat['team']] else 0 }} </td>
                {% else %}
                <td> {{ dat[col] | safe }} </td>
                {% endif %}

            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
  </table>


{% for nd in node_times %}
<h1> {{ nd if nd else node_times[nd][0]['action'] }} </h1>
<table id="table">
  <thead>
    <tr>
        {% for col in nd_tm_cols %}

          {% if col == 'time' %}
          <th class="header"> {{col | safe}} (min) </th>
          {% else %}
          <th class="header"> {{col | safe}} </th>
          {% endif %}

        {% endfor %}
    </tr>
  </thead>
<tbody>

    {% for dat in node_times[nd] %}
    <tr class="row">

            <td> {{ dat['team'] | safe }} </td>
            <td> {{ dat['time']//60 }} </td>

    </tr>
    {% endfor %}

</tbody>
</table>

{% endfor %}

</div>

<br>
<h1> player leaderboard </h1>
<div class="player-leaderboard">
  <table id="table">
    <thead>
      <tr>
          {% for col in p_sc_cols %}
            <th class="header"> {{col | safe}} </th>
          {% endfor %}
      </tr>
    </thead>
    <tbody>
        {% for dat in plyr_score %}
        <tr class="row">
            {% for col in p_sc_cols %}
                <td> {{ dat[col] | safe }} </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
  </table>
</div>

<br>

{% endblock %}
