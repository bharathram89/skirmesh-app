<div class="container-fluid">

        <div *ngIf="activeGame">
            <div class="btn-primary btn" (click)="goBackToMainMenu()"> Go Back </div>
        </div>

        <div *ngIf="!activeGame" class="row">

            <h5 *ngIf="!gameCardData.length"> Check back later. Games pop up all the time! </h5>

            <div
                *ngFor="let gameData of gameCardData;"
                class="card user-card col-sm-3 d-flex px-1 py-1 gx-1 gy-1"
                >

                <div class="card-header"
                     [value]="gameData.id"
                     (click)="selectActiveGame(gameData.id)"
                     >
                     <h5 [innerHtml]="gameData.description"></h5>
                </div>

                <div class="card-body"
                     [value]="gameData.id"
                     (click)="selectActiveGame(gameData.id)">

                    <p [innerHtml]="gameData.startTime"></p>

                    <div>
                        <app-map [mapID]="gameData.mapID" [deviceData]="gameData.devices" [gameID]="gameData.id"></app-map>
                    </div>

                </div>

            </div>

        </div>


    <div *ngIf="activeGame" class="view-account" id="activeGame">
        <section class="module">
            <div class="module-inner">
                <div class="side-bar">
                    <nav class="side-menu">
                        <ul class="nav">
                            <li id="map" (click)="changeGameTab('map')" class="active"><a>Map</a></li>
                            <li id="teamScore" (click)="changeGameTab('teamScore')"><a>Team Score</a></li>
                            <li id="EventsTracker" (click)="changeGameTab('EventsTracker')"><a>Events Tracker</a></li>
                        </ul>
                    </nav>
                </div>

                <div *ngIf="currentTab == 'map'" class="content-panel" id="v-pills-home" role="tabpanel"
                    aria-labelledby="v-pills-home-tab">

                    <a data-href="https://play.skirmesh.net/non-secure/live-games"
                       data-layout="button_count"
                       data-size="small"
                       target="_blank"
                       href="{{fbShareUrl}}"
                       class="btn btn-md btn-social btn-facebook">
                        <i class="fa fa-facebook fa-fw"> </i> Share!
                    </a>

                    <app-map [mapID]="map" [(deviceData)]="scoreSvc.devices"></app-map>


                </div>

                <div *ngIf="currentTab == 'teamScore'" class="content-panel" id="v-pills-profile" role="tabpanel"
                    aria-labelledby="v-pills-profile-tab">

                    <app-team-score [showLastLocation]="true" [teams]="scoreSvc.teams" [barChartData]="scoreSvc.barChartData"></app-team-score>

                </div>


                <div *ngIf="currentTab == 'EventsTracker'" class="content-panel" id="v-pills-settings" role="tabpanel"
                    aria-labelledby="v-pills-settings-tab">

                    <h3 class="center-cust"> Event History</h3>

                    <ngx-datatable
                        class="material striped"
                        [rows]="scoreSvc.allActions"
                        [columns]="scoreSvc.allActionsColumns"
                        [columnMode]="'standard'"
                        [rowHeight]="'auto'"
                        [scrollbarH]="true">
                    </ngx-datatable>

                </div>
            </div>

        </section>

      </div>

  </div>
